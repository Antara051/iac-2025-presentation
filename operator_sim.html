<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VERTECS Operator Micro-Simulation</title>
<style>
  :root {
    --bg:#0c1020; --card:#141a33; --muted:#6c7a93; --ok:#11c26a; --warn:#ffb020; --text:#e9eefc; --accent:#5aa6ff;
  }
  html,body{height:100%;margin:0;background:radial-gradient(1200px 600px at 30% -10%, #1a2144 0%, #0c1020 60%);}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;color:var(--text);display:grid;place-items:center;padding:16px}
  .wrap{width:min(980px,95vw)}
  h1{font-size:clamp(22px,3.6vw,34px);margin:0 0 4px}
  .sub{color:var(--muted);margin-bottom:16px}
  .pipeline{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;margin-top:12px}
  .node{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.25);position:relative;min-height:110px;display:grid;align-content:center;justify-items:center}
  .node .name{font-weight:600;margin-bottom:8px}
  .node .desc{font-size:13px;color:#b7c2dd;text-align:center}
  .node::after{content:"";position:absolute;top:50%;right:-7px;width:14px;height:2px;background:#32406a;transform:translateY(-50%)}
  .node:last-child::after{display:none}
  .node.ok{outline:2px solid rgba(17,194,106,.35);box-shadow:0 0 0 6px rgba(17,194,106,.12)}
  .led{width:10px;height:10px;border-radius:50%;background:#384767;margin-top:6px;box-shadow:0 0 0 0 transparent;transition:all .25s ease}
  .ok .led{background:var(--ok);box-shadow:0 0 12px 2px rgba(17,194,106,.45)}
  .warn{color:var(--warn);font-weight:600}
  .controls{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
  button{background:var(--accent);color:#041427;border:0;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
  button.secondary{background:#223055;color:#cfe1ff}
  .toast{position:fixed;right:16px;bottom:16px;background:#12213f;border:1px solid #223055;color:#cfe1ff;padding:10px 12px;border-radius:10px;opacity:0;transform:translateY(8px);transition:all .28s ease}
  .toast.show{opacity:1;transform:none}
  .badges{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
  .badge{background:#10172b;border:1px solid #243050;color:#b9c7e6;border-radius:999px;padding:8px 12px;font-size:13px}
  @media(max-width:820px){.pipeline{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Command → ACK → Telemetry (VERTECS Ground Station)</h1>
    <div class="sub">Click <b>Send Command</b>. Watch each stage light up; the ACK toast confirms safe, traceable commanding.</div>

    <div class="pipeline" id="pipe">
      <div class="node" data-key="gen"><div class="name">Cmd Gen</div><div class="led"></div><div class="desc">Manual or CSV queue</div></div>
      <div class="node" data-key="pace"><div class="name">Pacing</div><div class="led"></div><div class="desc">Interval-accurate uplink</div></div>
      <div class="node" data-key="uplink"><div class="name">Uplink</div><div class="led"></div><div class="desc">S-band relay</div></div>
      <div class="node" data-key="ack"><div class="name">ACK</div><div class="led"></div><div class="desc">Verified receipt</div></div>
      <div class="node" data-key="hk"><div class="name">Telemetry</div><div class="led"></div><div class="desc">Volt/Temp update</div></div>
    </div>

    <div class="badges">
      <span class="badge">ACK &gt; 99%</span>
      <span class="badge">Latency &lt; 1s</span>
      <span class="badge">Pacing ±1s</span>
      <span class="badge">4-tier logging</span>
    </div>

    <div class="controls">
      <button id="send">Send Command</button>
      <button class="secondary" id="reset">Reset</button>
    </div>
  </div>

  <div class="toast" id="toast">ACK received — command executed</div>

<script>
  const nodes = ["gen","pace","uplink","ack","hk"];
  const $ = sel => document.querySelector(sel);
  const byKey = k => document.querySelector(`.node[data-key="${k}"]`);
  function clear() { nodes.forEach(k=>byKey(k).classList.remove('ok')); $("#toast").classList.remove('show'); }
  function ackToast(){ const t=$("#toast"); t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 2200); }
  function play(){
    clear();
    const steps = [
      ()=>byKey("gen").classList.add('ok'),
      ()=>byKey("pace").classList.add('ok'),
      ()=>byKey("uplink").classList.add('ok'),
      ()=>{byKey("ack").classList.add('ok'); ackToast();},
      ()=>byKey("hk").classList.add('ok'),
    ];
    steps.forEach((fn,i)=>setTimeout(fn, 600*i));
  }
  $("#send").addEventListener('click', play);
  $("#reset").addEventListener('click', clear);
</script>
</body>
</html>
